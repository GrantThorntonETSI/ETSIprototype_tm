<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/efileApplicationAttorneyFragment :: layout (~{::body},'user')}" xmlns="http://www.w3.org/1999/html">
<head >
    <meta charset="UTF-8">
    <title>Owner Information</title>
</head>
<body>

<!-- End Navbar -->
<div class="row content" id="attorney" style="display: none;">
    <main class="col-xs-12 col-sm-8 col-md-8 col-lg-7">

        <!--START Content Div-->
        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <section class="col-xs-12 steps breadcrumb-steps" aria-label="progress tracker">
                        <div class="row displaycell">
                            <div class="col-xs-2 one active">
                                <div class="row">
                                    <div class="col-xs-3 col-sm-5 col-md-4 col-lg-4 number">
                                        <span>1</span>
                                    </div>
                                    <div class="col-xs-9 col-sm-7 col-md-8 col-lg-8" id="breadcrumb1">
                                        <p class="first">Your details</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2 two">
                                <div class="row">
                                    <div class="col-xs-3 col-sm-5 col-md-4 col-lg-4 number">
                                        <span>2</span>
                                    </div>
                                    <div class="col-xs-9 col-sm-7 col-md-8 col-lg-8">
                                        <p>Trademark details</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2 three">
                                <div class="row">
                                    <div class="col-xs-3 col-sm-5 col-md-4 col-lg-4 number">
                                        <span>3</span>
                                    </div>
                                    <div class="col-xs-9 col-sm-7 col-md-8 col-lg-8">
                                        <p>Goods and services</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2 four">
                                <div class="row">
                                    <div class="col-xs-3 col-sm-5 col-md-4 col-lg-4 number">
                                        <span>4</span>
                                    </div>
                                    <div class="col-xs-9 col-sm-7 col-md-8 col-lg-8">
                                        <p>Basis</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2 five">
                                <div class="row">
                                    <div class="col-xs-3 col-sm-5 col-md-4 col-lg-4 number">
                                        <span>5</span>
                                    </div>
                                    <div class="col-xs-9 col-sm-7 col-md-8 col-lg-8">
                                        <p>Additional info</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2 six">
                                <div class="row">
                                    <div class="col-xs-3 col-sm-5 col-md-4 col-lg-4 number">
                                        <span>6</span>
                                    </div>
                                    <div class="col-xs-9 col-sm-7 col-md-8 col-lg-8">
                                        <p>Confirm and pay</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="row">
                    <div class="col-xs-6">
                        <h1>Ownwer Information</h1>
                    </div>
                    <nav class="col-xs-6" id="previousnext">
                        <div class="btn-group btn-group-justified btn-sm" role="group" aria-label="previous and next buttons">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default btn-sm" id="prevButton">Previous</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default btn-sm" id="nextButton">Next</button>
                            </div>
                        </div>
                    </nav>
                </div>

                <!--START Attorney Information Form-->

                <div class="row" id="contacts-ui" style=" display: none; position: relative;  max-width:850px;right:-33px;">

                    <div class="row" style="">

                        <div class="col-sm-3">
                            <h5><b>Trademark Application Owner Details</b></h5>
                        </div>

                        <div class="col-sm-3">
                        </div>
                        <div class="col-sm-3">
                        </div>

                        <div class="col-sm-3" style="position: relative; top: -10px; right:-30px; ">
                            <span id="addOwneronfirm" class=" btn-sm btn"  type="button"  style=" padding:5px; max-width: 170px; padding:5px;  color: white; background-color: rgb(52, 152, 219); border-bottom-left-radius: 5px; border-bottom-right-radius: 5px; border-top-right-radius: 5px; border-top-left-radius: 5px;  position: relative;top:20px;"><i class="material-icons" style="position: relative; left: -10px;">person_add</i><b style="position: relative; top:-5px;"><a id="addOwnerLink" style="color: white; text-decoration: none;" >Add<br> Additional Owner</a></b></span>
                        </div>

                    </div>

                    <div class="accordion" id="accordionExample" style="position: relative; right:-10px; margin-top: 30px;">


                        <!--only one owner to display -->
                        <!--item 1 -->
                        <th:block th:each="owner : ${baseTrademarkApplication.owners}">
                            <div class="card" id="contact" style=" background-color: white; ">
                                <div class="card-header" id="headingTwo"  style="background-color: white;">
                                    <div class="row">
                                        <div class="col-sm-1">
                                            <i class="material-icons" style="position: relative; bottom: -5px;">contacts</i>

                                        </div>
                                        <div class="col-sm-1">
                                            <i class="material-icons collapsed" data-toggle="collapse" th:attr="data-target='#'+${owner.id}"   aria-expanded="false" aria-controls="collapseTwo" style="position: relative; bottom:-5px; left:-20px;">import_export</i>
                                        </div>
                                        <div class="col-sm-3">
                                            <div class="row">
                                                <b style="position: relative; bottom:-5px;" th:text="${owner.ownerDisplayname}">Owner Name</b>
                                            </div>

                                        </div>

                                        <div class="col-sm-3" style="position: relative; left:-55px;">
                                            <b style="position: relative;  " th:text="${owner.email}"> Attorney@Email.com</b>
                                        </div>

                                        <div class="col-sm-3">
                                               <b style="position: relative; top:-5px;  " th:text="${owner.getOwnersubType()}"> Attorney Firm, LLC </b>
                                        </div>
                                        <div class="col-sm-1">
                                            <i class="material-icons" style="position: relative; bottom: -3px;">remove_circle</i>
                                        </div>


                                    </div>
                                </div>
                            </div>

                            <div th:attr="id=${owner.id}"  class="collapse in" aria-labelledby="headingTwo" data-parent="#accordionExample" style="max-width: 850px; margin-bottom: 10px;">
                                <div class="card-body">

                                    <div class="row" style="position: relative; right:-111px; margin-top: 10px;">
                                        <span class="collapsed"  data-toggle="collapse" th:attr="data-target='#'+${owner.id}+'a'"  aria-expanded="false" aria-controls="collapseTwoAddress">
                                            <i class="material-icons">keyboard_arrow_right</i><b style="position: relative; top:-7px;"> Address Information</b>
                                        </span>

                                        <div th:attr="id=${owner.id}+'a'"  class="collapse" aria-labelledby="headingTwoAddress" data-parent="#accordionExample" style="max-width: 850px;">
                                            <div class="card-body contact-field-card-body">

                                                <span style="position: relative; right:-30px;" th:text="${owner.address}+' '+${owner.city}+', '+${owner.state}+' '+${owner.zipcode}"> 1115 Reserve Champion Drive, Rockville MD 20850</span>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="row" style="position: relative; right:-111px;">
                                            <span class="collapsed"  data-toggle="collapse" th:attr="data-target='#'+${owner.id}+'b'"  aria-expanded="false" aria-controls="collapseTwoAffiliation">
                                                <i class="material-icons">keyboard_arrow_right</i> <b style="position: relative; top:-7px;">Website URL</b>
                                            </span>

                                        <div th:attr="id=${owner.id}+'b'"  class="collapse" aria-labelledby="headingTwoAffiliation" data-parent="#accordionExample" style="max-width: 850px;">
                                            <div class="card-body contact-field-card-body" >

                                                <span style="position: relative; right:-30px;"  th:text="${owner.webSiteURL}">Washington Dc Bar Association. Maryland Bar Association.</span>

                                            </div>
                                        </div>
                                    </div>

                                    <th:block th:each="governingEntity : ${owner.governingEntities}">
                                        <div class="row" style="position: relative; right:-111px;">
                                                <span class="collapsed"  data-toggle="collapse" th:attr="data-target='#'+${owner.id}+${governingEntity.collapseID}+'c'"  aria-expanded="false" aria-controls="collapseTwoAffiliation">
                                                    <i class="material-icons">keyboard_arrow_right</i> <b style="position: relative; top:-7px;">Partner Info</b>
                                                </span>

                                            <div th:attr="id=${owner.id}+${governingEntity.collapseID}+'c'"  class="collapse" aria-labelledby="headingTwoAffiliation" data-parent="#accordionExample" style="max-width: 850px;">
                                                <div class="card-body contact-field-card-body" >
                                                    <span>Partner name:</span>
                                                    <span style="position: relative; right:-30px;"  th:text="${governingEntity.displayName}">Washington Dc Bar Association. Maryland Bar Association.</span><br>
                                                    <span>Partner Type:</span>
                                                    <span style="position: relative; right:-30px;"  th:text="${governingEntity.entityType}">Washington Dc Bar Association. Maryland Bar Association.</span><br>
                                                    <span>Partner State of Organization or Incorporation:</span>
                                                    <span style="position: relative; right:-30px;"  th:text="${governingEntity.organizationState}">Washington Dc Bar Association. Maryland Bar Association.</span><br>
                                                    <span>Partner Country:</span>
                                                    <span style="position: relative; right:-30px;"  th:text="${governingEntity.organizationCountry}">Washington Dc Bar Association. Maryland Bar Association.</span><br>

                                                </div>
                                            </div>
                                        </div>
                                    </th:block>

                                    <div class="row" style="position: relative; right:-137px; margin-top: 10px;">
                                        <b>Phone Number:</b> <input type="text" style="border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;"  th:value="${owner.primaryPhonenumber}" >

                                    </div>

                                </div> <!-- end of outter card body -->
                            </div> <!--end of collapse two -->

                            <!-- end of item 1 -->



                        </th:block>



                    </div> <!~- end of accordian -->








                </div> <!--end of contacts UI -->

















            </div>
        </div>











    </main>
    <!-- end of main content-->
</div>
<div class="container-fluid stickycomponents">
    <div id="chats">
        <div class="row">

            <section class="col-xs-7 col-sm-6 col-md-6 col-lg-6 col-xs-offset-5 col-sm-offset-6 col-md-offset-6 col-lg-offset-6 weight600" aria-label="your data" id="mydata2">
                <div class="panel-group">
                    <div class="panel panel-default">
                        <div class="panel-heading" id="contacts">
                            <h4 class="panel-title">
                                <button type="button" class="btn btn-link Accordion-trigger" data-toggle="collapse" data-target="#collapse2" aria-controls="collapse2" aria-expanded="false" id="contactsbtn" aria-label="toggle contacts panel"><span id="toggleglyphone" class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span><span id="toggleglyph" class="glyphicon glyphicon-triangle-top visuallyremoved" aria-hidden="true"></span> Managed Contacts</button>
                            </h4>
                            <button type="button" id="closecontacts" class="close" data-target="#mydata2" aria-label="Close"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                        </div>
                        <div id="collapse2" class="panel-collapse collapse" aria-labelledby="contactsbtn">
                            <table class="list-group table">
                                <tr class="row">
                                    <td class="list-group-item col-xs-6"><a href="#" class="fromcontact" id="clearform">Clear Form</a></td>
                                    <td class="list-group-item inner-addon right-addon col-xs-6"><i class="glyphicon glyphicon-search" aria-hidden="true"></i><input type="text" class="form-control" id="contactsearch" placeholder="" aria-label="search"></td>
                                </tr>



                                <th:block th:each="contact : ${user.getOwnerManagedContact()}">

                                    <tr class="row">
                                        <td class="list-group-item col-xs-6"><a href="#" class="fromcontact" id="managedContactFillFormAction" ><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span><span class="glyphicon glyphicon-ok-sign visuallyremoved" aria-hidden="true"></span></a> <b th:text="${contact.displayName}">Avo Reed</b></td>
                                        <td class="list-group-item col-xs-6" th:text="${contact.email}">avo.reid@us.gt.com</td>
                                    </tr>

                                </th:block>
                            </table>
                        </div>
                    </div>
                </div><!--END contacts-->
            </section>
        </div><!--END row-->
    </div><!--END chats-->
</div><!--END div container-fluid-->















    <!--load data from model -->

    <!--load model attribute for Jquery consumption  -->
    <script th:inline="javascript">

        /*<![CDATA[*/


        var appInternalID = /*[[${baseTrademarkApplication.applicationInternalID}]]*/ 'User Name';
        var host_name= /*[[${hostBean.host}]]*/ 'User Name';
        var host_port= /*[[${hostBean.port}]]*/ 'User Name';
        var host = host_name+":"+host_port;
        var contactNames = /*[[${myManagedContacts.ContactNames}]]*/ 'User Name';
        var selectedContactNames = /*[[${selectedOwners.ContactNames}]]*/ 'User Name';

        /*]]>*/
    </script>



    <script>

        var prevLinkURL = "../../application/OwnerStart/?trademarkID="+appInternalID;
        var nextLinkURL = "../../application/MarkDetails/?trademarkID="+appInternalID;
        var newOwnerLink = "../../owner/entity/?trademarkID="+appInternalID;


        // bread crumb links
        // tab 1 application_start_id
        var breadCrumb1Link = "../../application/start/?trademarkID="+appInternalID;


    </script>

    <!--load model attribute for Jquery consumption  -->
    <script th:inline="javascript">


    </script>

    <script>
        $(document).ready(function() {

            setTimeout(function() {
                // after 1000 ms we add the class animated to the login/register card
                $('.content').fadeIn(500);
            }, 500);

            setTimeout(function() {
                // after 1000 ms we add the class animated to the login/register card
                $('#contacts-ui').fadeIn(500);
            }, 500);

            setTimeout(function() {
                // after 1000 ms we add the class animated to the login/register card
                $('#widget-UI').fadeIn(500);
            }, 500);

            ////////////////////////////////////////
            // set link click events
            /////////////////////////////////////////

            $('#prevButton').click(function () {
                location.href=prevLinkURL;
            });

            $('#nextButton').click(function () {
                location.href=nextLinkURL;
            });


            $('.glyphicon-remove').click();




            /////////////////////////////////////////////////
            // check each radio button in accordian..
            // if any is checked .. enable confirm and next buttons
            /////////////////////////////////////////////////
            $('#accordionExample input').each(function () {
                //alert("##############")
                if($(this).is(':checked')){
                    // alert("!!!!!!!!!!!!!!!!")
                    // confirm link only activated oin new primary set
                    $('.next-button').css("background-color", "rgb(55, 69, 120)");
                    $('#nextLink').attr("href", nextLinkURL);


                }

            });




            $('#accordionExample').on('click', 'input.primaryLawyer', function () {

                var field_value =  $(this).parent().next().next().next().children().html();


                if(field_value != "") {
                    // set email to confirm button property
                    $('#confirm-link-widget').attr("primary-attorney-email", field_value);

                }
                enableConfirmWidgetLink();
            });
            $('#confirm-link-widget').click( function () {
                // alert("!!!!!!!!!!!!!");
                //alert($(this).attr("primary-attorney-email"));
                var contact_email = $(this).attr("primary-attorney-email");
                setPrimaryAttorneyApplication(contact_email, appInternalID);
                // enable next link ..
                // enable next url ...
                $('#nextLink').attr("href", nextLinkURL);
                $('#next-link-application').css("background-color", "rgb(55, 69, 120)");



            });



            // set add owner link

            $('#addOwnerLink').prop("href", prevLinkURL);


            /////////////////////////////////////////////////////////////////////////
            /////////////////////////////////////////////////////////////////////////


            /////////////////////////////////////////////////////////////////////////
            // add new owner
            /////////////////////////////////////////////////////////////////////////
            ////////////////////////////////////////////////////////////////
            // load correspoinding owner form into modal on open
            ////////////////////////////////////////////////////////////////
            $('#addNewOwnerModal').on('shown.bs.modal', function () {

                $.post(newOwnerLink, function(data){

                    $("#addNewOwnerModalBody").html(data).fadeIn();

                });

            });


            $('#addNewOwnerModal').on('hidden.bs.modal', function () {

                // clean up dynamically loaded html
                $("#addNewOwnerModalBody").html("").fadeIn();

                $("#ownerEntityForm").html("").fadeIn();

            });



            // all text notification should go away by itself

            /////////////////////////////////////////////////////////////////////////////

            var dataSet1 = [


            ];

            //////////////////////////////////////////////////////////////////////////////
            // initialize contacts table with empty values
            //////////////////////////////////////////////////////////////////////////////
            var contactsTable = $('#ManagedContacts').DataTable( {
                data: dataSet1,
                "pageLength": 5,
                "scrollY": "250px",
                "scrollX": "100%",
                "oLanguage": {

                    "sSearch": "<b style=\"position: relative; bottom: -3px; \" > <i style=\"position: relative; right:-197px; \"  class=\"material-icons\">search</i></b>"

                },
                "dom": '<"top"f<"clear">>rt<"bottom"p<"clear">>',
                columns: [
                    { title: ""  },
                    { title: "Contact Name" },
                    { title: "" }

                ]
            } );

            ////////////////////////////////////////////////////////////////////////////////////////////////
            // set overflow hidden for horizontal scroll bar created by y-scroll options on data tables
            // that keeps the data tables view port height constant
            /////////////////////////////////////////////////////////////////////////////////////////////////
            $('.dataTables_scrollBody').css('overflow',  'hidden');


            // load managed contacts from server
            for(var a =0; a <contactNames.length; a++) {
                ///////////////////////////////////////////////////////////////////////////
                // check each name against selected names ...if in selected lis ...
                // add row with check box selected and disabled
                ///////////////////////////////////////////////////////////////////////////
                var selectedContact = false;
                for(var b=0; b <selectedContactNames.length; b++ ){
                    if(contactNames[a] == selectedContactNames[b]){
                        selectedContact = true;
                    }

                }

                if(selectedContact == true){
                    var col1 = "<span class='small-tooltip'><a  style=\" min-width:500px; text-decoration: none;\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Contact is an Owner for this application.\">&nbsp;</a></span><i class='material-icons' style='position: relative; right:-10px;'>check_circle_outline</i>";
                    var col2 = "<b>"+contactNames[a]+"</b>";
                    var col3 = "";
                    contactsTable.row.add([col1, col2, col3]).draw();

                }
                else {
                    var col1 = "<span class='small-tooltip'><a  style=\" min-width:500px; text-decoration: none;\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Copy Contact Information to Owner Form.\">&nbsp;</a></span><i class='material-icons' style='position: relative; right:-10px;'>add_circle_outline</i>";
                    var col2 = "<b>"+contactNames[a]+"</b>";
                    var col3 = "";
                    contactsTable.row.add([col1, col2, col3]).draw();

                }



            }
            // sort and redraw to line up columns
            $('[data-toggle="tooltip"]').tooltip();
            // sort and redraw to line up columns




        });  // end of document ready ()
        /////////////////////////////////////////////////////
        // aJAX
        /////////////////////////////////////////////////////









    </script>

</body>
</html>